<!doctype html>
<html >
  <head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <title>
	KNOCKOUT LESSON 4
  </title>
  <link rel="stylesheet" type="text/css" href="./main.css" />
  	<link rel="stylesheet" href="../css/bootstrap.min.css" />
		<script type="application/javascript" src="../js/jquery-1.11.1.min.js"></script>
	    <script type="application/javascript" src="../js/bootstrap.min.js"></script>
  		<script type="text/javascript" src="../js/knockout30.js"></script>
  </head>

  <body>
  	<nav class="navbar navbar-inverse navbar-default">
			<div class="navbar-header">
				<a href="#" class="navbar-brand">Roy</a>
			</div>
			<ul class="nav navbar-nav">
				<li><a href="../index.html">首页</a></li>
				<li ><a href="../bootstrap/index.html">bootstrap</a></li>
				<li ><a href="#">react</a></li>
				<li class="active"><a href="#">knockout</a></li>
		  </ul>
			
			<form class="navbar-form navbar-right" style="margin-right: 20px;">
				<div class="form-group">
					<input type="text"  class="form-control"/>
				</div>
				<button type="button" class="btn btn-danger">搜索</button>
			</form>
		</nav>
 <div class="container">
<P>"Visiable绑定"</P>
<div data-bind="visible:shounldSee">是的，我就是被visibale属性绑定了！</div>
</br>
<p>"foreach绑定"</p>
<table class="table table-striped table-bordered table-hover">
  <thead>
	<tr><th>First Name</th><th>Last Name</th></tr>
  </thead>
  <tbody data-bind="foreach:people">
	<tr>
		<td data-bind="text:firstName"></td>
		<td data-bind="text:lastName"></td>
	</tr>
  </tbody>
</table>
<br/>
<p>带有添加/删除的例子</p>
<h3>People</h3>
<ul data-bind="foreach:person" class="list-unstyled">
	<li >
		Name at position<span data-bind="text:$index"></span>:
		<span data-bind="text:name"></span>
		<a href="#" data-bind="click:$parent.removePerson">Remove</a>
	</li>
</ul>
<button data-bind="click:addPerson">Add</button>
<br/>
<p>利用"as"为"foreach"条目设置一个别名</p>
	<ul data-bind="foreach:{data:categories,as:'category'}">
		<li>
			<ul data-bind="foreach:{data:items,as:'item'}">
				<li>
					<span data-bind="text:category.name"></span>:
					<span data-bind="text:item"></span>
				</li>
			</ul>
		</li>
	</ul>
<br/>
<p>没有容器元素，使用foreach</p>
	<ul>
		<li class="header">Header items</li>
		<!-- ko foreach:myItems -->
			<li>Item: <span data-bind="text:$data"></span></li>
		<!-- /ko -->
	</ul>


<p>if绑定</p>
<label><input type="checkbox" data-bind="checked:displayMessage" /></label>Display me
 <div data-bind="if:displayMessage">I am thi if bingdings.</div>
 <ul data-bind="foreach:capitals">
	<li>
		Plants:<b data-bind="text:name"></b>
		<div data-bind="if:capital">
			Capital:<b data-bind="text:capital.name"></b>
		</div>
	</li>
 </ul>
 <p>with绑定</p>
 <h1 data-bind="text:city"></h1>
 <p data-bind="with:coords">
	Latitude:<span data-bind="text:latitude"></span>
	Longitude:<span data-bind="text:longitude"></span>
 </p>

<form data-bind="submit:getTweets">
	Twitter account:
	<input data-bind="value:twitterName"/>
	<button type="submit">Get tweets</button>
</form>

<div data-bind="with:resultData">
	<h3>Recent tweet fetched at<span data-bind="text:retrievalDate"></span></h3>
	<ol data-bind="foreach:topTweets">
		<li data-bind="text:text"></li>
	</ol>
	<button data-bind="click:$parent.clearResults">Clear tweets</button>
</div>

<p>模板component的使用</p>
<h4>First instance,without parameters</h4>
<div data-bind='component:"message-editor"'></div>

<h4>Second instance,without parameters</h4>
<div data-bind='component:{name:"message-editor",
	params:{initialText:"Hello Wordl"}
}'></div>
<p>Click blinds</p>
<div>
	You will click <span data-bind="text:numberofClicks"></span>times
	<button data-bind="click:addNumber">Click me</button>
	<button data-bind="click:setZero">setZero</button>
<ul data-bind="foreach:places">
	<li data-bind="text:$data,event:{mouseover:$parent.logMouseover}">	
	</li>
</ul>
<p>You seem to interested in: <span data-bind="text:lastInterest"></span></p>
</div>
<p>enable绑定</p>
<p>
	<input type="checkbox" data-bind="checked:hasCellphone">I have cellphone
</p>
<p>
	Your cellphone number:
	<input type="text" data-bind="value:cellphone,enable:hasCellphone" />
</p>

<p>select绑定</p>
<p>Select a country:
	<select
		data-bind="options:countries,
	optionsCaption:'Choose one...',
	value:selectedCountry,
	valueAllowUnset:false
		"
	></select>
</p>

<p>
	First value:<input data-bind="textInput:firstValue" />
</p>
<p>
	Second value:<input data-bind="value:secondValue"/>
</p>
<p>
	Third value:<input data-bind="value:firstValue().length>8"/>
</p>
<P>textInput绑定</P>
<p>Login Name:<input type="text" name="account" data-bind:"textInput:usrName"></p>
<p>Password:<input type="password" name="password" data-bind="textInput:userPassword"></p>
<p>"hasFocus"绑定</p>
<input type="text"data-bind="hasFocus:isSelected">
<button data-bind="click:setFocus,text:focusButton"></button></br>
<p>Click to edit</p>
<p>
	Name:<b data-bind="visible:!editing(),text:name,click:edit"></b>
	<input data-bind="visible:editing,value:name,hasFocus:editing">
</p>
<p><em>点击Name即可编辑</em></p>
<p>Checked绑定</p>
<p>Send me spam: <input type="checkbox" data-bind="checked: wantsSpam" /></p>
<div data-bind="visible: wantsSpam">
    Preferred flavors of spam:
    <div><input type="radio" name="flavorGroup" value="cherry" data-bind="checked: spamFlavors" /> Cherry</div>
    <div><input type="radio" name="flavorGroup" value="almond" data-bind="checked: spamFlavors" /> Almond</div>
    <div><input type="radio" name="flavorGroup" value="msg" data-bind="checked: spamFlavors" /> Monosodium Glutamate</div>
</div>
<p>checkedValue</p>
<!-- ko foreach: items -->
	<input type="checkbox" data-bind="checkedValue:$data,checked:$root.chosenItems">
	<span data-bind="text:itemName"></span>
<!-- /ko -->
<!-- ko foreach: chosenItems -->
<div data-bind="text:itemName"></div>
<!-- /ko -->
</br>
<p>options绑定</p>
<select size="3" data-bind="options:myItems2,optionsText:'name',optionsValue:'id',optionsAfterRender:setOptionDisable">
</select>
</br>
ViewModel:
<pre data-bind="text:ko.toJSON($root,null,2)"></pre>
验证与绑定：
<p data-bind="css: { error: firstName.hasError }">
    <input data-bind='value: firstName, valueUpdate: "afterkeydown"' />
    <span data-bind='visible: firstName.hasError, text: firstName.validationMessage'> </span>
</p>
<p data-bind="css: { error: lastName.hasError }">
    <input data-bind='value: lastName, valueUpdate: "afterkeydown"' />
    <span data-bind='visible: lastName.hasError, text: lastName.validationMessage'> </span>
</p><br>
被管制的选项：
<p>Select a country:
	<select
		data-bind="options:validation()?countries2:countries,
		optionsCaption:'Choose one...',
		value:selectedCountry,
		valueAllowUnset:false
		"
	></select>
</p>
 </div>
	<script type="text/javascript" src="../js/jQuery183.js"></script>
	<script type="text/javascript" src="./ko.js">
		
	</script>
  </body>
</html>